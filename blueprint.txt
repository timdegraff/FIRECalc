================================================================================
TO DO LIST & ARCHITECTURAL ROADMAP
================================================================================
[HUMAN-ONLY ACCESS: AI AGENTS ARE PROHIBITED FROM MODIFYING OR EDITING THIS BOX]
[THE FOLLOWING SECTION IS RESERVED FOR THE HUMAN ARCHITECT]

CRITICAL FUTURE UPDATES:
- The end goal for this code is to be on the iOS app store for free with premium upgrade features
- [ ] Phase 1: REFACTOR - Migrate "Hybrid Architecture" to 100% React. Eliminate Vanilla templates.js.
- [ ] Phase 1: INTEGRITY - Move logic to TypeScript (FireEngine.ts) to prevent currency-to-string math errors.
- [ ] Phase 1: STATE - Replace window.currentData with React Context/Zustand for true reactivity.
- [ ] Phase 2: PERFORMANCE - Offload Burndown simulation (70+ year loops) to a Web Worker.
- [ ] Phase 2: REVENUE - Add "Educational Needs" section in Budget for automated 529 drawdown tracking.

V4.5 COMPLETED LOGIC:
- [x] PERSONAS: Simplified to "HANDOUT HUNTER" and "IRON FIST". 
- [x] UI REORGANIZATION: Swapped SNAP (now middle) and Cash Safety Net (now right) cards.
- [x] UI: Moved Real Dollars toggle to the top header for better accessibility.
- [x] LOGIC: Clicking DWZ or Preservation Age cards auto-sets relevant parameters.
- [x] UI: Handout Hunter enables SNAP Target Floor; Iron Fist greys it out and disables it.

================================================================================
PROJECT OVERVIEW: FIRECALC RETIREMENT PLANNER
================================================================================
FIRECalc is a high-fidelity financial architecture tool designed for precision 
planning, specifically optimized for the 2026 Michigan tax/benefit landscape. 

--------------------------------------------------------------------------------
CORE PHILOSOPHY & UI PREFERENCES
--------------------------------------------------------------------------------
1.  HOUSEHOLD SYNC: Total Family Size (hhSize) is a derived value:
    Base (1) + Spouse (1 if MFJ) + Dependents.
2.  CONSERVATIVE SPEND: All income not explicitly directed to "Savings" or 
    required for "Budget" is assumed SPENT. No automatic recycling of surplus.

--------------------------------------------------------------------------------
BURNDOWN ENGINE & DECUMULATION LOGIC
--------------------------------------------------------------------------------
1.  STRATEGY MODES (MAGI TARGETS):
    - HANDOUT HUNTER: Maximize gov benefits by staying < 138% FPL. Enables SNAP Target Floor optimization.
    - IRON FIST: Zero tax-optimization; strictly follows the Draw Order waterfall. Disables SNAP Target Floor.

2.  IRON FIST PROTOCOL: 
    When active, the engine follows the Drag-and-Drop priority list to the letter.
    It will fully exhaust an asset balance (down to $0 or the Safety Net) before 
    pulling a single dollar from the next asset in the list.

3.  SNAP CONVERGENCE (3-PASS VALIDATION):
    - Pass 0: Simulation runs with $0 SNAP to find the "Required Withdrawal."
    - Pass 1: "Required Withdrawal" normalized to MONTHLY to perform SNAP test.
    - Pass 2 (VALIDATION): Check if Total Income (Floor + Draws) still qualifies.
    - Result: Prevents "Ghost SNAP" where strategy draws would realistically 
      disqualify the household from food benefits.
================================================================================